<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta name="author" content="Joachim KÃ¸cher Kelsen" />
		
		<link href="../_app/immutable/assets/0.DeOGtgbP.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.CODUow2U.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/MjmCwUi2.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Db0b_LWK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B-HXGGfP.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DbJvz8S3.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.CODDCSde.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C9f0ZI4H.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BdD32qd5.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CUjF3E6N.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BpXGYBMw.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.C8xN2ubw.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BOyCDzPS.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CANx_FtO.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BweDwWPv.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DGpX5Dfl.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/hXpMuBZJ.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.CKckqSZp.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/20.sy8veYl5.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dg6GzD5d.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BqXxNwWv.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DcIxqC40.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BL1phRJf.js"><!--[--><!--]--><title>Token Introspection Endpoint</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><nav class="backdrop-saturate-200 backdrop-blur-md z-50 flex fixed top-0 bottom-0 left-0 right-0 overflow-y-auto hidden"><div class="w-full min-h-full max-w-80 bg-zinc-200"><div class="px-4 pt-6"><button aria-label="Close mobile menu"><svg class="w-4 h-4" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div><ul class="rounded-md [&amp;>li]:px-4 py-4 space-y-4 text-lg"><!--[--><li class="hover:underline"><a href="/authserver/intro">Intro</a></li><li class="hover:underline"><a href="/authserver/demo">Demo</a></li><li class="hover:underline"><a href="/authserver/developer">Developer</a></li><!--]--> <!--[--><li class="hover:underline"><a href="/authserver/developer/architecture">Architecture</a></li><li class="hover:underline"><a href="/authserver/developer/datamodel">Datamodel</a></li><li class="hover:underline"><a href="/authserver/developer/setup">Setup</a></li><li class="hover:underline"><a href="/authserver/developer/client-authentication">Client Authentication</a></li><li class="hover:underline"><a href="/authserver/developer/discovery">Discovery</a></li><li class="hover:underline"><a href="/authserver/developer/jwks">JWKS</a></li><li class="hover:underline"><a href="/authserver/developer/pkce">PKCE</a></li><li class="hover:underline"><a href="/authserver/developer/subject-type">Subject Type</a></li><li class="hover:underline"><a href="/authserver/developer/dpop">DPoP</a></li><li class="hover:underline"><a href="/authserver/developer/token">Token</a></li><li class="hover:underline"><a href="/authserver/developer/client-credentials">Client Credentials</a></li><li class="hover:underline"><a href="/authserver/developer/authorization-code">Authorization Code</a></li><li class="hover:underline"><a href="/authserver/developer/refresh-token">Refresh Token</a></li><li class="hover:underline"><a href="/authserver/developer/token-revocation">Token Revocation</a></li><li class="hover:underline"><a href="/authserver/developer/token-introspection">Token Introspection</a></li><li class="hover:underline"><a href="/authserver/developer/grant-management">Grant Management</a></li><!--]--></ul></div></div></nav> <nav class="bg-gray-100 py-5"><div class="max-w-7xl mx-auto px-4"><div class="items-center flex justify-between"><div class="flex space-x-4"><button class="lg:hidden" aria-label="Open mobile menu"><svg viewBox="0 0 24 24" class="w-4 h-4"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button> <div class="hidden lg:block"><a href="../" class="flex items-center text-gray-700 hover:text-gray-900"><svg class="h-6 w-6 mr-1 fill-openid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.54 .887L10.91 2.66V20.83C6.76 20.31 3.64 18.05 3.64 15.33C3.64 12.75 6.44 10.58 10.27 9.92V7.61C4.42 8.32 0 11.5 0 15.33C0 19.29 4.74 22.57 10.91 23.11L14.54 21.4V.886M15.18 7.61V9.92C16.61 10.17 17.89 10.62 18.94 11.23L16.97 12.34L24 13.87L23.5 8.66L21.63 9.72C19.89 8.66 17.67 7.91 15.18 7.61Z"></path></svg> <span class="font-bold">AuthServer</span></a><!----></div></div> <div class="flex items-center space-x-1"><div class="block lg:hidden"><a href="../" class="flex items-center text-gray-700 hover:text-gray-900"><svg class="h-6 w-6 mr-1 fill-openid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.54 .887L10.91 2.66V20.83C6.76 20.31 3.64 18.05 3.64 15.33C3.64 12.75 6.44 10.58 10.27 9.92V7.61C4.42 8.32 0 11.5 0 15.33C0 19.29 4.74 22.57 10.91 23.11L14.54 21.4V.886M15.18 7.61V9.92C16.61 10.17 17.89 10.62 18.94 11.23L16.97 12.34L24 13.87L23.5 8.66L21.63 9.72C19.89 8.66 17.67 7.91 15.18 7.61Z"></path></svg> <span class="font-bold">AuthServer</span></a><!----></div> <div class="hidden lg:block"><!--[--><a href="/authserver/intro" class="px-3 text-gray-700 hover:text-gray-900">Intro</a><a href="/authserver/demo" class="px-3 text-gray-700 hover:text-gray-900">Demo</a><a href="/authserver/developer" class="px-3 text-gray-700 hover:text-gray-900">Developer</a><!--]--></div></div> <div class="flex items-center space-x-1"><a href="https://github.com/jokk-itu/authserver" target="_blank"><img src="../github.svg" alt="Github" height="20px" width="20px"></a></div></div></div></nav><!----> <main class="container px-4 sm:mx-auto mt-8"><div class="w-full"><!----><!--[--><!----><div class="flex"><nav class="hidden lg:block sm:flex-none mx-4 w-56 rounded-md outline-8"><ul class="rounded-md [&amp;>li]:px-4 py-4 space-y-4 text-lg bg-zinc-200"><!--[--><li class="hover:underline"><a href="/authserver/developer/architecture">Architecture</a></li><li class="hover:underline"><a href="/authserver/developer/datamodel">Datamodel</a></li><li class="hover:underline"><a href="/authserver/developer/setup">Setup</a></li><li class="hover:underline"><a href="/authserver/developer/client-authentication">Client Authentication</a></li><li class="hover:underline"><a href="/authserver/developer/discovery">Discovery</a></li><li class="hover:underline"><a href="/authserver/developer/jwks">JWKS</a></li><li class="hover:underline"><a href="/authserver/developer/pkce">PKCE</a></li><li class="hover:underline"><a href="/authserver/developer/subject-type">Subject Type</a></li><li class="hover:underline"><a href="/authserver/developer/dpop">DPoP</a></li><li class="hover:underline"><a href="/authserver/developer/token">Token</a></li><li class="hover:underline"><a href="/authserver/developer/client-credentials">Client Credentials</a></li><li class="hover:underline"><a href="/authserver/developer/authorization-code">Authorization Code</a></li><li class="hover:underline"><a href="/authserver/developer/refresh-token">Refresh Token</a></li><li class="hover:underline"><a href="/authserver/developer/token-revocation">Token Revocation</a></li><li class="hover:underline"><a href="/authserver/developer/token-introspection">Token Introspection</a></li><li class="hover:underline"><a href="/authserver/developer/grant-management">Grant Management</a></li><!--]--></ul></nav> <div class="flex-auto w-full"><!----><!----><h1 class="text-4xl mb-2">Token Introspection</h1> <hr class="mb-4"><!----> <div class="mb-8" id="introduction"><div class="inline-flex"><a class="hover:underline ref-link text-xl" href="#introduction">Introduction</a></div> <hr class="mb-4"> <!----><p>The token introspection endpoint is used to introspect tokens.
        This is useful when the client requires opaque tokens that are not structured,
        such that protected resources can request the introspection endpoint and get information about the token.
        The endpoint supports introspecting access tokens and refresh tokens.</p><!----></div><!----> <div class="mb-8" id="specifications"><div class="inline-flex"><a class="hover:underline ref-link text-xl" href="#specifications">Specifications</a></div> <hr class="mb-4"> <!----><div class="w-full overflow-x-auto"><table class="border-collapse table-fixed sm:table-auto w-full text-sm"><caption class="caption-bottom">Table 1: Specifications</caption><thead class="bg-openid"><tr><!--[--><th class="break-words border font-medium text-lg p-4 pl-8 pt-3 pb-3 text-left">Name</th><th class="break-words border font-medium text-lg p-4 pl-8 pt-3 pb-3 text-left">Description</th><!--]--></tr></thead><tbody class="bg-white"><!--[--><tr><!--[--><!--[--><td class="break-words border border-slate-200 p-4 pl-8"><a href="https://openid.net/specs/openid-connect-core-1_0.html" class="underline decoration-2 hover:decoration-openid">OpenId Connect</a></td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Core specification for OpenId Connect</td><!--]--><!--]--></tr><tr><!--[--><!--[--><td class="break-words border border-slate-200 p-4 pl-8"><a href="https://datatracker.ietf.org/doc/html/rfc7662" class="underline decoration-2 hover:decoration-openid">Token Introspection</a></td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Specification for introspecting tokens</td><!--]--><!--]--></tr><tr><!--[--><!--[--><td class="break-words border border-slate-200 p-4 pl-8"><a href="https://datatracker.ietf.org/doc/html/rfc9449" class="underline decoration-2 hover:decoration-openid">DPoP</a></td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Specification for sender constraining tokens using DPoP</td><!--]--><!--]--></tr><tr><!--[--><!--[--><td class="break-words border border-slate-200 p-4 pl-8"><a href="https://datatracker.ietf.org/doc/html/rfc9470/" class="underline decoration-2 hover:decoration-openid">Step up authentication</a></td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Step up authentication specification</td><!--]--><!--]--></tr><!--]--></tbody></table></div><!----></div><!----> <div class="mb-8" id="token introspection endpoint"><div class="inline-flex"><a class="hover:underline ref-link text-xl" href="#token introspection endpoint">Token Introspection Endpoint</a></div> <hr class="mb-4"> <!----><p>The token introspection endpoint accepts the POST HTTP method, and the content is application/x-www-form-urlencoded.</p> <p>The endpoint also requires client authentication, and the parameters are defined in the Client Authentication page.</p> <div class="p-4 my-2 rounded-lg bg-sky-700 font-medium text-cyan-200"><!----><!---->The endpoint requires client authentication by confidential clients.<!----></div><!----> <br> <p>The token introspection endpoint returns HTTP 200 if successful, and 400 if an error occurred.</p> <div class="p-4 my-2 rounded-lg bg-sky-700 font-medium text-cyan-200"><!----><!---->If the token does not exist, is revoked, expired then the token is deemed inactive.
        If the client is not authorized for any scope of the token,
        or if the client is not an audience of the token, then the token is deemed inactive.<!----></div><!----> <br> <p>The following table shows the parameters that can be sent to the endpoint.</p> <div class="w-full overflow-x-auto"><table class="border-collapse table-fixed sm:table-auto w-full text-sm"><caption class="caption-bottom">Table 2: Token Introspection request parameters</caption><thead class="bg-openid"><tr><!--[--><th class="break-words border font-medium text-lg p-4 pl-8 pt-3 pb-3 text-left">Name</th><th class="break-words border font-medium text-lg p-4 pl-8 pt-3 pb-3 text-left">Description</th><!--]--></tr></thead><tbody class="bg-white"><!--[--><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">token</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">The token to be introspected. It is required.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">token_type_hint</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">The type of token to be introspected. It is optional.</td><!--]--><!--]--></tr><!--]--></tbody></table></div><!----> <br> <div class="w-full overflow-x-auto"><table class="border-collapse table-fixed sm:table-auto w-full text-sm"><caption class="caption-bottom">Table 3: Token Introspection response parameters</caption><thead class="bg-openid"><tr><!--[--><th class="break-words border font-medium text-lg p-4 pl-8 pt-3 pb-3 text-left">Name</th><th class="break-words border font-medium text-lg p-4 pl-8 pt-3 pb-3 text-left">Description</th><!--]--></tr></thead><tbody class="bg-white"><!--[--><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">active</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Boolean determining if the token is active or not. This is required.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">scope</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Space delimited string of scopes. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">client_id</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Id of client that owns the token. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">username</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Username of the token's subject. This is optional.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">token_type</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">The token's type, which is either Bearer or DPoP. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">exp</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Unix timestamp when the token expires. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">iat</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Unix timestamp when the token was issued. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">nbf</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Unix timestamp when the token is active from. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">sub</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Subject of the token. Either the end-user or the client. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">aud</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Array of URIs that may accept the token. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">iss</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">URI of AuthServer. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">jti</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Unique identifier of the token. This is required if active.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">auth_time</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Unix timestamp of when the end-user authenticated. This is optional.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">acr</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">The AuthenticationContextReference used when the end-user authenticated. This is optional.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">cnf</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Object with one field, which is jkt. That is the thumbprint of the DPoP if the token is sender-constrained. This is optional.</td><!--]--><!--]--></tr><tr><!--[--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">access_control</td><!--]--><!--[!--><td class="break-words border border-slate-200 p-4 pl-8">Object with end-user claims used for authorization purposes. This is optional.</td><!--]--><!--]--></tr><!--]--></tbody></table></div><!----> <br> <p>The following HTTP example shows a request to introspect an access token.</p> <div class="w-full overflow-x-auto"><div class="outline-solid bg-gray-900 border-slate-600 border-4 rounded-lg my-8"><pre class="whitespace-pre p-4 flex overflow-x-auto leading-6">            <code class="text-white pe-16">
                <!----><!---->
POST /connect/introspection HTTP/1.1
Host: idp.authserver.dk
Content-Type: application/x-www-form-urlencoded
Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW

token=23nthgnreag67n
        <!---->
            </code>
        </pre></div></div><!----> <p>The following HTTP example shows a response with an active dpop bound token and an end-user as the subject.</p> <div class="w-full overflow-x-auto"><div class="outline-solid bg-gray-900 border-slate-600 border-4 rounded-lg my-8"><pre class="whitespace-pre p-4 flex overflow-x-auto leading-6">            <code class="text-white pe-16">
                <!----><!---->
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-cache, no-store

{
  "active": true,
  "scope": "scope:read scope:write",
  "client_id": "35d7d4f0-27c8-463c-8057-d39953a16972",
  "username": "john",
  "token_type": "DPoP",
  "exp": 1751708358,
  "iat": 1751708058,
  "nbf": 1751708058,
  "sub": "ec14d771-d1bb-4d0c-9965-8243700a739f",
  "aud": [ "https://api.authserver.dk" ],
  "iss": "https://idp.authserver.dk",
  "jti": "ec26ea37-e612-45f7-8989-612554499117",
  "auth_time": 1751707358,
  "acr": "urn:authserver:loa:substantial",
  "cnf":
  {
    "jkt": "ZcOCORZNYy-DWpqq30jZyJGHTN0d2HglBV3uiguA4I"
  },
  "access_control":
  {
    "roles": [ "admin" ]
  }
}
        <!---->
            </code>
        </pre></div></div><!----> <p>The following HTTP example shows a response with an active bearer token and the client as the subject.</p> <div class="w-full overflow-x-auto"><div class="outline-solid bg-gray-900 border-slate-600 border-4 rounded-lg my-8"><pre class="whitespace-pre p-4 flex overflow-x-auto leading-6">            <code class="text-white pe-16">
                <!----><!---->
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-cache, no-store

{
  "active": true,
  "scope": "scope:read scope:write",
  "client_id": "35d7d4f0-27c8-463c-8057-d39953a16972",
  "token_type": "Bearer",
  "exp": 1751708358,
  "iat": 1751708058,
  "nbf": 1751708058,
  "sub": "35d7d4f0-27c8-463c-8057-d39953a16972",
  "aud": [ "https://api.authserver.dk" ],
  "iss": "https://idp.authserver.dk",
  "jti": "ec26ea37-e612-45f7-8989-612554499117"
}
        <!---->
            </code>
        </pre></div></div><!----> <p>The following HTTP example shows a response with an inactive token.</p> <div class="w-full overflow-x-auto"><div class="outline-solid bg-gray-900 border-slate-600 border-4 rounded-lg my-8"><pre class="whitespace-pre p-4 flex overflow-x-auto leading-6">            <code class="text-white pe-16">
                <!----><!---->
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-cache, no-store

{
  "active": false
}
        <!---->
            </code>
        </pre></div></div><!----><!----></div><!----><!----><!----></div></div><!----><!--]--><!----></div></main> <footer><svg viewBox="0 0 1440 320" class="fill-openid" xmlns="http://www.w3.org/2000/svg"><path fill-opacity="1" d="M0,128L34.3,112C68.6,96,137,64,206,74.7C274.3,85,343,139,411,149.3C480,160,549,128,617,106.7C685.7,85,754,75,823,96C891.4,117,960,171,1029,181.3C1097.1,192,1166,160,1234,165.3C1302.9,171,1371,213,1406,234.7L1440,256L1440,320L1405.7,320C1371.4,320,1303,320,1234,320C1165.7,320,1097,320,1029,320C960,320,891,320,823,320C754.3,320,686,320,617,320C548.6,320,480,320,411,320C342.9,320,274,320,206,320C137.1,320,69,320,34,320L0,320Z"></path></svg> <div class="bg-gray-800 text-white py-4"><div class="container mx-auto text-center"><p>2025 AuthServer. All rights reserved.</p></div></div></footer><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_149h4gg = {
						base: new URL("..", location).pathname.slice(0, -1),
						assets: "/authserver"
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.CODUow2U.js"),
						import("../_app/immutable/entry/app.CODDCSde.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 20],
							data: [null,null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>