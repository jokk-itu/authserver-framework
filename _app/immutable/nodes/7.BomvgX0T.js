import{a as g,t as $,b as B}from"../chunks/disclose-version.CqEGrFDF.js";import"../chunks/legacy.C2BF3i6C.js";import{W as P,_ as J,$ as ne,X as ie,a0 as oe,o as se,a1 as Z,a2 as le,a3 as K,a4 as V,a5 as R,a6 as q,a7 as j,a8 as ee,a9 as de,q as U,aa as ce,ab as fe,ac as ue,ad as he,ae as pe,af as ve,ag as _e,p as me,V as be,A as Q,ah as ge,ai as Te,aj as we,ak as $e,c as C,r as x,w as W,s as w,g as D,f as E,n as H}from"../chunks/runtime.D1yy3Suv.js";import{C as M}from"../chunks/CodeBlock.BD-ABjh4.js";import{a as ke}from"../chunks/attributes.Dcu7ru1z.js";import{P as ye,S}from"../chunks/Section.ATEzHP2z.js";import{a as X}from"../chunks/store.Cxfz-NbT.js";import{p as I}from"../chunks/props.BHg2OMwU.js";function z(s,e){return e}function xe(s,e,a,d){for(var m=[],c=e.length,l=0;l<c;l++)fe(e[l].e,m,!0);var b=c>0&&m.length===0&&a!==null;if(b){var p=a.parentNode;ue(p),p.append(a),d.clear(),A(s,e[0].prev,e[c-1].next)}he(m,()=>{for(var _=0;_<c;_++){var r=e[_];b||(d.delete(r.k),A(s,r.prev,r.next)),pe(r.e,!b)}})}function L(s,e,a,d,m,c=null){var l=s,b={flags:e,items:new Map,first:null};{var p=s;l=P?J(ve(p)):p.appendChild(ne())}P&&ie();var _=null,r=!1;oe(()=>{var f=a(),i=se(f)?f:f==null?[]:Z(f),t=i.length;if(r&&t===0)return;r=t===0;let u=!1;if(P){var o=l.data===le;o!==(t===0)&&(l=K(),J(l),V(!1),u=!0)}if(P){for(var v=null,n,h=0;h<t;h++){if(R.nodeType===8&&R.data===_e){l=R,u=!0,V(!1);break}var T=i[h],k=d(T,h);n=te(R,b,v,null,T,k,h,m,e),b.items.set(k,n),v=n}t>0&&J(K())}if(!P){var y=me;Ae(i,b,l,m,e,(y.f&q)!==0,d)}c!==null&&(t===0?_?j(_):_=ee(()=>c(l)):_!==null&&de(_,()=>{_=null})),u&&V(!0),a()}),P&&(l=R)}function Ae(s,e,a,d,m,c,l){var b=s.length,p=e.items,_=e.first,r=_,f,i=null,t=[],u=[],o,v,n,h;for(h=0;h<b;h+=1){if(o=s[h],v=l(o,h),n=p.get(v),n===void 0){var T=r?r.e.nodes_start:a;i=te(T,e,i,i===null?e.first:i.next,o,v,h,d,m),p.set(v,i),t=[],u=[],r=i.next;continue}if(Pe(n,o,h),n.e.f&q&&j(n.e),n!==r){if(f!==void 0&&f.has(n)){if(t.length<u.length){var k=u[0],y;i=k.prev;var F=t[0],N=t[t.length-1];for(y=0;y<t.length;y+=1)Y(t[y],k,a);for(y=0;y<u.length;y+=1)f.delete(u[y]);A(e,F.prev,N.next),A(e,i,F),A(e,N,k),r=k,i=N,h-=1,t=[],u=[]}else f.delete(n),Y(n,r,a),A(e,n.prev,n.next),A(e,n,i===null?e.first:i.next),A(e,i,n),i=n;continue}for(t=[],u=[];r!==null&&r.k!==v;)(c||!(r.e.f&q))&&(f??(f=new Set)).add(r),u.push(r),r=r.next;if(r===null)continue;n=r}t.push(n),i=n,r=n.next}if(r!==null||f!==void 0){for(var O=f===void 0?[]:Z(f);r!==null;)(c||!(r.e.f&q))&&O.push(r),r=r.next;var ae=O.length;if(ae>0){var re=b===0?a:null;xe(e,O,re,p)}}U.first=e.first&&e.first.e,U.last=i&&i.e}function Pe(s,e,a,d){ce(s.v,e),s.i=a}function te(s,e,a,d,m,c,l,b,p){var _=(p&Te)!==0,r=(p&we)===0,f=_?r?be(m):Q(m):m,i=p&ge?Q(l):l,t={i,v:f,k:c,a:null,e:null,prev:a,next:d};try{return t.e=ee(()=>b(s,f,i),P),t.e.prev=a&&a.e,t.e.next=d&&d.e,a===null?e.first=t:(a.next=t,a.e.next=t.e),d!==null&&(d.prev=t,d.e.prev=t.e),t}finally{}}function Y(s,e,a){for(var d=s.next?s.next.e.nodes_start:a,m=e?e.e.nodes_start:a,c=s.e.nodes_start;c!==d;){var l=$e(c);m.before(c),c=l}}function A(s,e,a){e===null?s.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}var Ce=$('<div class="p-4 my-2 rounded-lg bg-sky-700 font-medium text-cyan-200"><!></div>');function Se(s,e){var a=Ce(),d=C(a);ke(d,e,"default",{}),x(a),g(s,a)}var Re=$('<th class="border font-medium text-lg p-4 pl-8 pt-3 pb-3 text-left"> </th>'),Ee=$('<td class="break-words border border-slate-200 p-4 pl-8"> </td>'),He=$("<tr></tr>"),Ie=$('<div class="w-full overflow-x-auto"><table class="border-collapse table-fixed sm:table-auto w-full text-sm"><caption class="caption-bottom"> </caption><thead class="bg-openid"><tr></tr></thead><tbody class="bg-white"></tbody></table></div>');function G(s,e){let a=I(e,"title",8),d=I(e,"tableNumber",8),m=I(e,"headers",8),c=I(e,"rows",8);var l=Ie(),b=C(l),p=C(b),_=C(p);x(p);var r=w(p),f=C(r);L(f,5,m,z,(t,u)=>{var o=Re(),v=C(o,!0);x(o),W(()=>X(v,D(u))),g(t,o)}),x(f),x(r);var i=w(r);L(i,5,c,z,(t,u)=>{var o=He();L(o,5,()=>D(u),z,(v,n)=>{var h=Ee(),T=C(h,!0);x(h),W(()=>X(T,D(n))),g(v,h)}),x(o),g(t,o)}),x(i),x(b),x(l),W(()=>X(_,`Table ${d()??""}: ${a()??""}`)),g(s,l)}var qe=$(`<p>The client can authenticate itself when requesting endpoints, through a
        backchannel, for example at the token endpoint.</p> <br> <p>Authentication is grouped into either using shared secrets, or using
        public key cryptography.</p>`,1),Ne=$("<p>Authenticate using the HTTP Authorization header, using the basic schema.</p> <p>The header contains the client id as the username and the client secret as the password.</p> <p>The combination of client id and secret is afterwards base64 encoded.</p> <p>The following example is for the token endpoint. The client id is s6BhdRkqt3 and the client secret is gX1fBat3bV.</p> <!>",1),Oe=$("<p>Authenticate using the HTTP body. The body contains the client id and the client secret.</p> <p>The following example is for the token endpoint.</p> <!>",1),Be=$(`<p>The client secret must be shared between the client and AuthServer for client secret JWT to work.
            AuthServer does not support this, because secrets are hashed.</p>`),Je=$("<p>Authenticate using the HTTP body. The body contains the client assertion type, the client assertion and optionally the client id.</p> <p>The following example is for the token endpoint.</p> <!> <p>The following table describes the possible claims in the token.</p> <!>",1),Ve=$("<!> <!> <!> <!> <!> <!> <!>",1);function Ue(s){let e=["Name","Link","Description"],a=[["OAuth2.1","https://datatracker.ietf.org/doc/draft-ietf-oauth-v2-1/","Core specification for OAuth"],["OpenId Connect","https://openid.net/specs/openid-connect-core-1_0.html","Core specification for OpenId Connect"],["JWT Assertion framework","https://datatracker.ietf.org/doc/rfc7523/","Specification for JWT assertions"],["Assertion framework","https://datatracker.ietf.org/doc/rfc7521/","Specification for OAuth assertions"]],d=["Name","Description"],m=[["iss","Required. Issuer of the token, must be the client id"],["sub","Required. Subject of the token, must be the client id"],["aud","Required. Audience of the token, must be the endpoint where the client is authenticating"],["jti","Required. Unique id of the token"],["exp","Required. Expiration time of the token"],["iat","Optional. Time at which the token was issued"],["typ","Required. Type of token, which must be: pk+jwt"]];var c=Ve(),l=E(c);ye(l,{title:"Client Authentication"});var b=w(l,2);S(b,{title:"Introduction",children:(t,u)=>{var o=qe();H(4),g(t,o)},$$slots:{default:!0}});var p=w(b,2);S(p,{title:"Specifications",children:(t,u)=>{G(t,{title:"Specifications",tableNumber:1,headers:e,rows:a})},$$slots:{default:!0}});var _=w(p,2);S(_,{title:"Client Secret Basic",children:(t,u)=>{var o=Ne(),v=w(E(o),8);M(v,{children:(n,h)=>{H();var T=B();T.nodeValue=`
POST /token HTTP/1.1
Host: idp.authserver.com
Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW
Content-Type: application/x-www-form-urlencoded
grant_type=client_credentials&scope=weather:read
        `,g(n,T)},$$slots:{default:!0}}),g(t,o)},$$slots:{default:!0}});var r=w(_,2);S(r,{title:"Client Secret Post",children:(t,u)=>{var o=Oe(),v=w(E(o),4);M(v,{children:(n,h)=>{H();var T=B();T.nodeValue=`
POST /token HTTP/1.1
Host: idp.authserver.com
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials&scope=weather:read&
client_id=s6BhdRkqt3&client_secret=gX1fBat3bV
        `,g(n,T)},$$slots:{default:!0}}),g(t,o)},$$slots:{default:!0}});var f=w(r,2);S(f,{title:"Client Secret JWT",children:(t,u)=>{Se(t,{children:(o,v)=>{var n=Be();g(o,n)},$$slots:{default:!0}})},$$slots:{default:!0}});var i=w(f,2);S(i,{title:"Private key JWT",children:(t,u)=>{var o=Je(),v=w(E(o),4);M(v,{children:(h,T)=>{H();var k=B();k.nodeValue=`
POST /token HTTP/1.1
Host: idp.authserver.dk
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials&
scope=weather:read&
client_id=s6BhdRkqt3&
client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&
client_assertion=eyJ0eXAiOiJKV1QiLCJh...82U
        `,g(h,k)},$$slots:{default:!0}});var n=w(v,4);G(n,{title:"Private key JWT claims",tableNumber:2,headers:d,rows:m}),g(t,o)},$$slots:{default:!0}}),g(s,c)}export{Ue as component};
